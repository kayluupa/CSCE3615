<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favorites - AptMate</title>
    <link rel="stylesheet" href="navbar/navbar.css">
    <link rel="stylesheet" href="favorites.css">
</head>
<body>
    <div id="navbar-container"></div>

    <!-- Favorites Section -->
    <div class="favorites-container">
        <h2>Your Favorites</h2>
        <ul id="favoritesList">
            <!-- List of favorite apartments will be displayed here -->
        </ul>
    </div>

    <script type="module">
        import { initializeFavorites } from './hearticon.js';
        import { fetchApartmentData } from './database.js';

        async function displayFavorites() {
            const favoritesList = document.getElementById('favoritesList');
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const apartments = await fetchApartmentData();

            favoritesList.innerHTML = ''; // Clear existing content

            favorites.forEach(id => {
                const apartment = apartments[id];
                if (apartment) {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <div class="listing" data-id="${id}">
                            <h3>${id}</h3>
                            <p>Price: $${apartment.Price}</p>
                            <p>Bedrooms: ${apartment.Bedroom}</p>
                            <p>Bathrooms: ${apartment.Bathroom}</p>
                            <p>Zip: ${apartment.ZipCode}</p>
                            <p>Amenities: ${apartment.Amenities}</p>
                        </div>
                    `;
                    favoritesList.appendChild(listItem);
                }
            });
        }

        window.onload = displayFavorites;
    </script>
    <script type="module" src="navbar/navbar.js"></script>
</body>
</html>
